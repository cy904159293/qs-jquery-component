webpackJsonp([8],{"/krT":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n("iu2K");var r,s=n("hPQL"),o=(r=s)&&r.__esModule?r:{default:r};var a=function(){function e(t){var n=t.obj,i=void 0===n?{}:n,r=t.placeholder,s=void 0===r?"请选择":r,o=t.list,a=void 0===o?[]:o,d=t.renderLi,l=t.renderSecLi,u=t.activeIndex,p=void 0===u?-1:u,h=t.activeSecIndex,f=void 0===h?-1:h,v=t.beforeClick,m=void 0===v?function(){}:v,y=t.onSelectChange,b=void 0===y?function(){}:y,g=t.hasReset,w=void 0!==g&&g,S=t.hasChildren,C=void 0!==S&&S,x=t.menuStyle,L=void 0===x?"":x,I=t.dropup,_=t.disabled,D=t.autoShow,j=t.btnStyle,k=void 0===j?"":j,E=t.hasSearch;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c.call(this),this.obj=i,this.placeholder=s,this.list=a,this.renderLi=d,this.renderSecLi=l,this.activeIndex=p,this.activeSecIndex=f,this.onSelectChange=b,this.hasReset=w?1:0,this.hasChildren=!!C,this.beforeClick=m,this.menuStyle=L,this.dropup=I,this.disabled=_,this.autoShow=D,this.btnStyle=k,this.hasSearch=E,!(i instanceof $)||i instanceof $&&1!==i.length)throw new Error("Dropdown param obj must be an one length jqueryDom");if("function"!=typeof this.onSelectChange)throw new Error("Dropdown param onSelectChange must be a function");if(this.renderLi&&"function"!=typeof this.renderLi)throw new Error("Dropdown param renderLi must be a function");if(this.renderSecLi&&"function"!=typeof this.renderSecLi)throw new Error("Dropdown param renderSecLi must be a function");if("function"!=typeof this.beforeClick)throw new Error("Dropdown param beforeClick must be a function");this.current=this.list[this.activeIndex],this.valueC=null,this.listC=null,this.btn=null,this.itemDetail=[],this.isOpen=!1,this._init()}return i(e,[{key:"setData",value:function(e,t){return t||0===t?(this.activeIndex=e,this.activeSecIndex=t,this.current=this.list[e].children[t],void this.valueC.text(this.renderSecLi?this.renderSecLi(this.current,this.activeIndex,this.activeSecIndex):this.current).addClass("active")):e<this.hasReset||void 0===this.list[e]?this.reset():(this.activeIndex=e,this.current=this.list[this.activeIndex],this.valueC.text(this.renderLi?this.renderLi(this.current,this.activeIndex):this.current).addClass("active"),this)}},{key:"renderList",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.list;return this.list=e,this.listC.html(this._renderListHtml()),this}},{key:"setDisabled",value:function(e){return this.btn.attr("disabled",!!e),this}},{key:"setValue",value:function(e){return""===e||null===e||void 0===e?this:(this.valueC.text(e).addClass("active"),this)}},{key:"_renderChildren",value:function(e,t){var n=this;return e&&e.length?'<i class="fa fa-caret-right"></i>\n            <div class="ys-dropdown-sec-div"><ul class="ys-dropdown-sec-menu">'+e.map(function(e,i){return'<li class="ys-sec-li">'+(n.renderSecLi?n.renderSecLi(e,t,i):e)+"</li>"}).join("")+"</ul></div>":""}},{key:"_init",value:function(){this._renderHtml()}}]),e}(),c=function(){var e=this;this.toggleDrop=function(t){if("open"===t){if(e.isOpen)return;e.outer.addClass("ys-open")}else if("close"===t){if(!e.isOpen)return;e.outer.removeClass("ys-open")}else e.outer.toggleClass("ys-open");e.isOpen=!e.isOpen,e.outer.hasClass("ys-open")?e._openDrop():e._closeDrop()},this.reset=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e.activeIndex=-1,e.current=null,e.valueC.text(e.placeholder).removeClass("active"),t&&e.onSelectChange(e.current,e.activeIndex),e},this.getList=function(){return e.list},this.getData=function(){return{current:e.current,activeIndex:e.activeIndex,activeSecIndex:e.activeSecIndex}},this._openDrop=function(){e.drop.addClass("open-start"),setTimeout(function(){e.drop.addClass("opening"),setTimeout(function(){e.drop.removeClass("open-start").addClass("open-end")},0)},0)},this._closeDrop=function(){e.drop.removeClass("open-end").addClass("open-start"),setTimeout(function(){e.drop.removeClass("opening"),setTimeout(function(){e.drop.removeClass("open-start")},0)},100)},this._itemClick=function(){e.current=e.list[e.activeIndex],e.valueC.text(e.renderLi?e.renderLi(e.current,e.activeIndex):e.current).addClass("active"),e.onSelectChange(e.current,e.activeIndex,e.activeSecIndex),e.hasSearch&&e._resetSearch()},this._searchItem=function(t){var n=!1;[].forEach.call(e.listC.find("li"),function(i,r){var s=e.itemDetail[r].indexOf(t)>-1;s&&(n=!0),$(i).toggle(s)}),e.searchEmpty.toggle(!n)},this._resetSearch=function(){e.autoSearch.reset(),e.listC.find("li").show(),e.searchEmpty.hide()},this._bindEvent=function(){var t=e;e.outer.on("click",".ys-dropdown-btn",function(){t.toggleDrop()}).on("click",".ys-dropdown-li > div",function(){t.toggleDrop("close");var e=$(this).parent().index();if(!t.beforeClick(t.list[e])){if(t.activeIndex=e,t.hasReset&&0===t.activeIndex)return t.reset();t._itemClick()}}).on("click",".ys-sec-li",function(e){e.stopPropagation(),t.toggleDrop("close");var n=$(this).index(),i=$(this).parents("li").index();t.beforeClick(t.list[i].children[n])||(t.activeSecIndex=n,t.activeIndex=i,t.setData(t.activeIndex,t.activeSecIndex),t.onSelectChange(t.current,t.activeIndex,t.activeSecIndex))}).on("click",".fa-times",function(){t._resetSearch()}),e.autoShow&&e.obj.on("mouseenter",function(){t.toggleDrop("open")}).on("mouseleave",function(){t.toggleDrop("close")}),$(document).on("mousedown",function(e){0===$(e.target).closest(".ys-open").length&&t.toggleDrop("close")})},this._renderListHtml=function(){return e.list.map(function(t,n){var i=e.renderLi?e.renderLi(t,n):t;return e.itemDetail.push(i),'<li class="ys-dropdown-li"><div>'+i+"</div>"+(e.hasChildren?e._renderChildren(t.children,n):"")+"</li>"}).join("")},this._renderSearch=function(){return e.hasSearch?'<div class="ys-dropdown-search-outer"><i class="fa fa-search"></i><input pattern="^[\\s]{0,}$" placeholder="输入关键字" type="text" /><i class="fa fa-times"></i></div><div class="ys-dropdown-search-empty">没有匹配选项</div>':""},this._renderHtml=function(){var t=e.activeIndex>=e.hasReset?e.renderLi?e.renderLi(e.current,e.activeIndex):e.current:e.placeholder;e.obj.html('<div class="ys-dropdown-outer'+(e.dropup?" ys-dropdown-dropup":"")+'">\n<button class="btn ys-dropdown-btn" style="'+e.btnStyle+'" '+(e.disabled?"disabled":"")+'>\n<span class="ys-dropdown-value'+(e.activeIndex>=e.hasReset?" active":"")+'">'+t+'</span><i class="fa fa-caret-down"></i>\n</button>\n<div class="ys-dropdown-menu">'+e._renderSearch()+'\n<ul class="ys-dropdown-ul" style="'+e.menuStyle+'">'+e._renderListHtml()+"</ul>\n</div>\n</div>"),e.outer=e.obj.find(".ys-dropdown-outer"),e.drop=e.obj.find(".ys-dropdown-menu"),e.listC=e.obj.find(".ys-dropdown-ul"),e.valueC=e.obj.find(".ys-dropdown-value"),e.btn=e.obj.find(".ys-dropdown-btn"),e.hasSearch&&(e.autoSearch=new o.default({input:e.outer.find("input"),delay:0,fn:function(t){e._searchItem(t)}}),e.searchEmpty=e.outer.find(".ys-dropdown-search-empty")),e._bindEvent()}};t.default=a},"0iPh":function(e,t){e.exports=window.jQuery},"11n/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.propsList=[{param:"obj",description:"组件容器，一个长度的jqueryDom",type:"jQueryObject",default:""},{param:"placeholder",description:"未选择时的提示文字",type:"String",default:"请选择"},{param:"list",description:"下拉列表数据，如果有二级列表，二级列表数据放在一级列表的children字段",type:"Array | [ String || Object ]",default:"[]"},{param:"renderLi",description:"一级列表行渲染回调方法，返回当行的html内容，参数 row:当前行数据，index:行下标",type:"Function",default:""},{param:"renderSecLi",description:"二级列表行渲染回调方法，返回当行的html内容，hasChildren为true时生效，参数 row:当前行数据，index:一级列表行下标，secIndex:二级列表行下标",type:"Function",default:""},{param:"activeIndex",description:"一级列表选中下标",type:"Number",default:"-1"},{param:"activeSecIndex",description:"二级列表选中下标",type:"Number",default:"-1"},{param:"beforeClick",description:"列表选项点击前回调函数，如果返回true将阻止默认点击事件，参数 current:当前点击行数据",type:"Function",default:"()=>{}"},{param:"onSelectChange",description:"列表选中后回调函数，参数 current:当前选中数据，index:当前选中下标， secIndex:当前选中二级下标",type:"Function",default:"()=>{}"},{param:"hasReset",description:"列表第一项是否未重置项，如果是，选中第一项后组件将置为初始状态",type:"Boolean",default:"false"},{param:"hasChildren",description:"是否拥有二级列表",type:"Boolean",default:"false"},{param:"menuStyle",description:"下拉列表容器样式，通常用来限制最大高度",type:"String:styleSheet",default:""},{param:"dropup",description:"是否向上弹出选项",type:"Boolean",default:"false"},{param:"disabled",description:"是否禁用下拉列表",type:"Boolean",default:"false"},{param:"autoShow",description:"是否开启鼠标hover打开下拉列表",type:"Boolean",default:"false"}],t.apiList=[{funcName:"toggleDrop",description:"打开/关闭下拉列表",params:"type: close or open，可为空"},{funcName:"setData",description:"设置选中项",params:"index: 一级列表下标<br>secIndex: 二级列表下标，可为空"},{funcName:"renderList",description:"设置选项",params:"list: 下拉数据 | Array"},{funcName:"reset",description:"重置下拉选项",params:"change: 是否触发onSelectChange回调,Boolean默认true"},{funcName:"setDisabled",description:"设置下拉是否被禁用",params:"type: Boolean"},{funcName:"setValue",description:"设置列表显示文字，通常用于当你不想找到选项下标时使用",params:"value: String"},{funcName:"getList",description:"获取当前下拉数据源，返回一个list",params:""}]},Eh92:function(e,t){},"Q+MX":function(e,t,n){"use strict";var i=c(n("0iPh"));n("Eh92");var r=c(n("/krT")),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("6QEj")),o=n("11n/"),a=c(n("gntN"));function c(e){return e&&e.__esModule?e:{default:e}}(new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init=function(){},this._bindEvent=function(){var e=t;t.outer.on("click",".btn-test1",function(){var t=new Array(5).join(",").split(",").map(function(e,t){return{name:"选项"+(t+1),id:t+1}});e.drop3.renderList(t),(0,a.default)({type:"success",msg:"设置选项成功"})}).on("click",".btn-test2",function(){e.drop3.renderList([]),(0,a.default)({type:"success",msg:"清空选项成功"})}).on("click",".btn-test3",function(){e.drop3.getList().length||(0,a.default)({type:"warning",msg:"请先设置选项，没有选项时，setData方法将重置下拉为未选中状态"}),e.drop3.setData(2)}).on("click",".btn-test4",function(){e.drop3.setValue("无关的文字"),(0,a.default)({type:"success",msg:"设置成功，该显示与选项无任何关联"})}).on("click",".btn-test5",function(){e.drop4.setDisabled(!1),(0,a.default)({type:"success",msg:"启用下拉"})}).on("click",".btn-test6",function(){e.drop4.setDisabled(!0),(0,a.default)({type:"success",msg:"禁用下拉"})}).on("click",".btn-test7",function(){e.drop5.toggleDrop("open")}).on("click",".btn-test8",function(){e.drop5.toggleDrop("close")})},this._init=function(){t.drop=new r.default({obj:(0,i.default)("#test1"),list:["选项一","选项二","选项三"],onSelectChange:function(e){(0,a.default)({type:"success",msg:"当前选中 "+e})}}),t.drop2=new r.default({obj:(0,i.default)("#test2"),list:[{name:"不限",id:""}].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(new Array(10).join(",").split(",").map(function(e,t){return{name:"一级列表"+(t+1),id:t,children:new Array(5).join(",").split(",").map(function(e,n){return{name:"二级列表"+t+"-"+n,id:n}})}}))),renderLi:function(e){return e.name},renderSecLi:function(e){return e.name},onSelectChange:function(e){e?(0,a.default)({type:"success",msg:"当前选中 "+e.name}):(0,a.default)({type:"success",msg:"列表重置"})},placeholder:"选择列表",hasReset:!0,hasChildren:!0}),t.drop3=new r.default({obj:(0,i.default)("#test3"),renderLi:function(e){return e.name},onSelectChange:function(e){}}),t.drop4=new r.default({obj:(0,i.default)("#test4"),list:["选项一","选项二","选项三"],onSelectChange:function(e){},dropup:!0,disabled:!0}),t.drop5=new r.default({obj:(0,i.default)("#test5"),list:new Array(20).join(",").split(",").map(function(e,t){return"选项"+(t+1)}),onSelectChange:function(e){},menuStyle:"max-height:250px;overflow-y:auto",autoShow:!0}),s.initCode(t.outer),s.createDetailTable({outer:t.outer,propsList:o.propsList,apiList:o.apiList}),t._bindEvent()},this.outer=(0,i.default)("#dropDown"),this._init()}).init()},iu2K:function(e,t){}},["Q+MX"]);