webpackJsonp([24],{"0iPh":function(t,e){t.exports=window.jQuery},"9Jfm":function(t,e,a){"use strict";var n=s(a("0iPh"));a("k7lZ");var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a("6QEj")),o=a("wGw8"),i=s(a("gntN")),u=s(a("RfmY")),c=s(a("1uvi")),d=s(a("eI+r"));function s(t){return t&&t.__esModule?t:{default:t}}(new function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.init=function(){},this._bindEvent=function(){var t=e;e.outer.on("click",".btn-test1",function(){t.table2.setData({dataSource:null}),(0,i.default)({type:"info",msg:"开始请求数据"}),setTimeout(function(){t.table2.setData({dataSource:t._getMockData()}),(0,i.default)({type:"success",msg:"请求数据成功"})},2e3)}).on("click",".btn-test2",function(){t.table2.setData({dataSource:[]})}).on("click",".remove-item",function(){var e=(0,n.default)(this).data("index"),a=t.table3.getRowData(e);t.floatModal.show({title:"是否删除"+a.name+"的成绩?",obj:(0,n.default)(this),side:3,fn:function(){t.floatModal.hide(),(0,d.default)({title:"删除成功",msg:a.name+"的成绩成功删除"}),t.table3.removeItem(e).then(function(){var a=t.table3.getDataSource();a.splice(e,1),a.push(t._getMockData()[0]),t.table3.setData({dataSource:a,conditionChange:!0})})}})}).on("click",".update-item",function(){var e=(0,n.default)(this).data("index"),a=t.table3.getRowData(e);t.floatModal2.show({title:"修改"+a.name+"的成绩",placeholder:"输入新成绩",obj:(0,n.default)(this),side:3,fn:function(n){t.floatModal2.hide(),(0,d.default)({title:"修改成功",msg:a.name+"的成绩修改为"+n});var r=t.table3.getDataSource();r[e].score=n,t.table3.setData({dataSource:r,conditionChange:!0}).then(function(){t.table3.updateItem(e)})}})})},this._getMockData=function(){return new Array(5).fill(1).map(function(){return{name:e._getRandomName(),age:Math.ceil(20*Math.random())+10,score:Math.ceil(60*Math.random())+40}})},this._getRandomName=function(){var t="赵钱孙李陈周吴郑王冯陈褚卫蒋沈韩杨朱秦尤许叶唐张姜".split(""),e="浩伟杰珂斌恒芹钟祥键明华彬自成静涛利江君欢丽默岑翔轻雪薇",a=t[Math.ceil(Math.random()*(t.length-1))],n=e[Math.ceil(Math.random()*(e.length-1))],r=e[Math.ceil(Math.random()*(e.length-1))];return Math.random()>.4?a+n+r:a+n},this._init=function(){e.table1=new u.default({outer:(0,n.default)("#test1"),headers:[{name:"序号",width:50},{name:"姓名",width:200},{name:"年龄",width:200},{name:"得分",width:300}],renderTrs:[function(t,e,a){return a.pageSize*(a.current-1)+e+1},function(t){return t.name},function(t){return t.age},function(t){return t.score}],dataSource:e._getMockData(),pagination:{show:!0,total:56,pageSize:5,current:1,onChange:function(t){var a=t.current;setTimeout(function(){e.table1.setData({dataSource:e._getMockData(),pagination:{current:a,total:56}})},500)}}}),e.table2=new u.default({outer:(0,n.default)("#test2"),headers:[{name:"序号",width:50},{name:"姓名",width:200},{name:"年龄",width:200},{name:"得分",width:300}],renderTrs:[function(t,e,a){return a.pageSize*(a.current-1)+e+1},function(t){return t.name},function(t){return t.age},function(t){return t.score}],dataSource:e._getMockData(),pagination:{show:!0,total:56,pageSize:5,current:1,onChange:function(t){var a=t.current;setTimeout(function(){e.table2.setData({dataSource:e._getMockData(),pagination:{current:a,total:56}})},500)}},renderEmpty:function(){return'<div class="flexbox aic jcc" style="height: 100px;color: #999"><i class="fa fa-warning" style="margin-right: 10px;font-size: 16px"></i>我是自定义的缺省页</div>'}}),e.table3=new u.default({outer:(0,n.default)("#test3"),headers:[{name:"序号",width:50},{name:"姓名",width:200},{name:"年龄",width:250},{name:"得分",width:250},{name:"操作",width:150}],renderTrs:[function(t,e,a){return a.pageSize*(a.current-1)+e+1},function(t){return t.name},function(t){return t.age},{renderTd:function(t){return'<td style="color:#fff;'+(t.score>=60?"background-color: #00b793":"background-color: #d00")+' ">'+t.score+"</td>"}},function(t,e){return'<a class="btn btn-link remove-item" data-index="'+e+'">删除</a><a class="btn btn-link update-item" data-index="'+e+'">修改</a>'}],dataSource:e._getMockData(),pagination:{show:!0,total:56,pageSize:5,current:1,onChange:function(t){var a=t.current;setTimeout(function(){e.table3.setData({dataSource:e._getMockData(),pagination:{current:a,total:56}})},500)}},storage:!0}),e.table4=new u.default({outer:(0,n.default)("#test4"),headers:[{name:"序号",width:50},{name:"姓名",width:300},{name:"年龄",width:200,sorter:{type:"age"}},{name:"得分",width:200,sorter:{type:"score"}}],renderTrs:[function(t,e,a){return a.pageSize*(a.current-1)+e+1},function(t){return t.name},function(t){return t.age},{renderTd:function(t){return'<td style="color:#fff;'+(t.score>=60?"background-color: #00b793":"background-color: #d00")+' ">'+t.score+"</td>"}}],dataSource:e._getMockData(),pagination:{show:!0,total:56,pageSize:5,current:1,onChange:function(t){var a=t.current;setTimeout(function(){e.table4.resetSort(),e.table4.setData({dataSource:e._getMockData(),pagination:{current:a,total:56}})},500)}},sorter:function(t){var a=t.sortName,n=t.type;if(0===n)return e.table4.setData({dataSource:e._getMockData()});var r=e.table4.getDataSource();r.sort(function(t,e){return(e[a]-t[a])*n}),e.table4.setData({dataSource:r})}}),e.floatModal=new c.default({noInput:!0}),e.floatModal2=new c.default({}),r.initCode(e.outer),r.createDetailTable({outer:e.outer,propsList:o.propsList,apiList:o.apiList}),e._bindEvent()},this.outer=(0,n.default)("#table"),this._init()}).init()},k7lZ:function(t,e){},wGw8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.propsList=[{param:"outer",description:"组件容器，一个长度的jqueryDom",type:"jQueryObject",default:""},{param:"headers",description:"表头数据",type:"Array | { name:String 表头文字, width:Number 表头表格宽度， sorter: Object 排序参数, ...表头其他attr }",default:"()=>{}"},{param:"dataSource",description:"表格数据源",type:"Array",default:""},{param:"renderTr",description:"(已不推荐使用)行渲染回调，3个参数：row 当前行数据, index 当前行下标, pagination:当前分页数据",type:"Function",default:""},{param:"renderTrs",description:"行内td渲染回调数据，有该方法时renderTr无效",type:"Array | Function || Object | { renderTd:Function }",default:""},{param:"pagination",description:"分页相关参数",type:"Object | { show(false) | Boolean是否显示分页, total | Number总条数, pageSize | Number每页条数, current | Number当前页码 }",default:"{ show:false }"},{param:"storage",description:"是否缓存分页数据",type:"Boolean",default:"false"},{param:"loading",description:"是否显示loading",type:"Boolean",default:"true"},{param:"singleTr",description:"单元格是否单行显示数据，过长数据...，鼠标划过时显示全部",type:"Boolean",default:"true"},{param:"emptyMsg",description:"缺省文案",type:"String",default:"暂无数据"},{param:"afterRender",description:"表格渲染完成回调函数",type:"Function",default:"()=>{}"},{param:"sorter",description:"排序点击回调函数，参数 sortName:排序名称, type 排序标识 1，0，-1 正序，不排序，倒序",type:"Function",default:"()=>{}"},{param:"renderEmpty",description:"自定义loading渲染函数",type:"Function",default:""}],e.apiList=[{funcName:"setData",description:"设置表格数据分页数据",params:"{ dataSource: Array 表格数据, pagination:Object | { current,total,pageSize } 分页数据, conditionChange:Boolean 是否条件改变 }"},{funcName:"getDataSource",description:"获取当前表格数据，返回一个数组",params:""},{funcName:"getRowData",description:"获取某一行数据",params:"index:Number 行数"},{funcName:"getPagination",description:"获取当前分页参数",params:""},{funcName:"resetSort",description:"重置所有排序按钮",params:""},{funcName:"removeItem",description:"某一行的移除动画",params:"index:Number 行数"},{funcName:"updateItem",description:"某一行的更新动画",params:"index:Number 行数"}]}},["9Jfm"]);